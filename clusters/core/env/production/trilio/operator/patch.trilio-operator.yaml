---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: trilio-operator
spec:
  values:
    registry: "eu.gcr.io/triliovault"
    operator-webhook-init:
      repository: operator-webhook-init
    k8s-triliovault-operator:
      repository: k8s-triliovault-operator
    tag: "3.0.0"
    tvkHelmRepo: ""
    preflight:
      enabled: false
      repository: preflight
      logLevel: "INFO"
      cleanupOnFailure: false
      imagePullSecret: ""
      limits: "cpu=600m,memory=256Mi"
      localRegistry: ""
      nodeSelector: ""
      pvcStorageRequest: "2Gi"
      requests: "cpu=300m,memory=128Mi"
      storageClass: "ceph-block"
      volumeSnapshotClass: "csi-cephfs-snapclass"
    image:
      pullPolicy: Always
    nameOverride: ""
    replicaCount: 1
    podSpec:
      securityContext:
        runAsNonRoot: true
        runAsUser: 1180
    securityContext:
      runAsUser: 1180
    installTVK:
      enabled: true
      applicationScope: Cluster
      tvkInstanceName: "home-cluster"
      ingressConfig:
        host: "trilio"
        tlsSecretName: ""
        annotations: {}
        ingressClass: ""
      ComponentConfiguration:
        ingressController:
          enabled: false
