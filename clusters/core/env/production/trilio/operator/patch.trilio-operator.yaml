---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: trilio-operator
spec:
  values:
    registry: "eu.gcr.io/amazing-chalice-243510"
    operator-webhook-init:
      repository: operator-webhook-init
    k8s-triliovault-operator:
      repository: k8s-triliovault-operator
    tag: "2.8.2"
    tvkHelmRepo: ""
    preflight:
      enabled: false
      repository: preflight
      logLevel: "INFO"
      cleanupOnFailure: false
      imagePullSecret: ""
      limits: "cpu=600m,memory=256Mi"
      localRegistry: ""
      nodeSelector: ""
      pvcStorageRequest: "2Gi"
      requests: "cpu=300m,memory=128Mi"
      storageClass: "ceph-block"
      volumeSnapshotClass: "csi-cephfs-snapclass"
    image:
      pullPolicy: Always
    nameOverride: ""
    replicaCount: 1
    podSpec:
      hostIPC: false
      hostNetwork: false
      hostPID: false
      securityContext:
        runAsNonRoot: true
        runAsUser: 1180
    securityContext:
      allowPrivilegeEscalation: false
      privileged: false
      readOnlyRootFilesystem: false
      runAsNonRoot: true
      runAsUser: 1180
      capabilities:
        drop:
          - ALL
    installTVK:
      enabled: true
      applicationScope: Cluster
      tvkInstanceName: "home-cluster"
      ingressConfig:
        host: "trilio.${SECRET_DOMAIN}"
        tlsSecretName: "crj-wildcard-certificate"
        annotations: {}
        ingressClass: "traefik-internal"
      ComponentConfiguration:
        ingressController:
          enabled: false
