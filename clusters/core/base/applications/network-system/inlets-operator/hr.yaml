---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: inlets-operator
spec:
  interval: 5m
  chart:
    spec:
      chart: inlets-operator
      version: 0.16.0
      sourceRef:
        kind: HelmRepository
        name: inlets-charts
        namespace: flux-system
  values:
    replicaCount: 1
    inletsProLicense: ""
    provider: "digitalocean"
    region: "nyc3"
    accessKeyFile: "/var/secrets/inlets/inlets-access-key"
    # Only provide LoadBalancers for Services annotated with "dev.inlets.manage=true"
    annotatedOnly: true
    resources:
      requests:
        cpu: 50m
        memory: 50Mi
      limits:
        cpu: 100m
        memory: 128Mi
