---
apiVersion: triliovault.trilio.io/v1
kind: BackupPlan
metadata:
  name: soho
spec:
  backupConfig:
    retentionPolicy:
      apiVersion: triliovault.trilio.io/v1
      kind: Policy
      name: latest-retention
      namespace: trilio
    schedulePolicy:
      fullBackupCron:
        schedule: ""
      fullBackupPolicy:
        apiVersion: triliovault.trilio.io/v1
        kind: Policy
        name: weekly-schedule
        namespace: soho
      incrementalBackupPolicy:
        apiVersion: triliovault.trilio.io/v1
        kind: Policy
        name: daily-schedule
        namespace: soho
      incrementalCron:
        schedule: ""
    target:
      apiVersion: triliovault.trilio.io/v1
      kind: Target
      name: trilio-pandora
      namespace: soho
  excludeResources:
    labelSelector:
      - matchLabels:
          backup: exempt
      - matchLabels:
          app.kubernetes.io/instance: emqx
